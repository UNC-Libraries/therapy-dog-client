{"version":3,"file":"model.js","sources":["../../lib/documents/xml/model.js"],"sourcesContent":["import Xmlbuilder from 'xmlbuilder';\n\nfunction renderElement(builder, attributes, children) {\n  Object.keys(attributes).forEach((name) => {\n    builder.attribute(name, attributes[name]);\n  });\n  \n  children.forEach((child) => {\n    if (child instanceof XMLElement || child instanceof XMLAttribute) {\n      child.render(builder);\n    } else {\n      builder.text(String(child));\n    }\n  });\n}\n\nexport class XMLAttribute {\n  constructor(name, children, keep) {\n    this.name = name;\n    this.children = children;\n    this.keep = keep;\n  }\n  \n  render(builder) {\n    var value = \"\";\n    \n    this.children.forEach((child) => {\n      value += String(child);\n    });\n    \n    builder.attribute(this.name, value);\n  }\n}\n\nexport class XMLElement {\n  constructor(name, attributes, children, keep) {\n    this.name = name;\n    this.attributes = attributes;\n    this.children = children;\n    this.keep = keep;\n  }\n  \n  render(builder) {\n    let element = builder.element(this.name);\n    renderElement(element, this.attributes, this.children);\n  }\n}\n\nexport class XMLDocument {\n  constructor(root) {\n    this.root = root;\n  }\n  \n  render(builder) {\n    if (typeof builder === 'undefined') {\n      let builder = Xmlbuilder.create(this.root.name);\n      renderElement(builder, this.root.attributes, this.root.children);\n      return builder.doc();\n    } else {\n      let element = builder.element(this.root.name);\n      renderElement(element, this.root.attributes, this.root.children);\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAAS,aAAT,CAAuB,OAAvB,EAAgC,UAAhC,EAA4C,QAA5C,EAAsD;SAC7C,IAAP,CAAY,UAAZ,EAAwB,OAAxB,CAAgC,UAAC,IAAD,EAAU;YAChC,SAAR,CAAkB,IAAlB,EAAwB,WAAW,IAAX,CAAxB,EADwC;GAAV,CAAhC,CADoD;;WAK3C,OAAT,CAAiB,UAAC,KAAD,EAAW;QACtB,iBAAiB,UAAjB,IAA+B,iBAAiB,YAAjB,EAA+B;YAC1D,MAAN,CAAa,OAAb,EADgE;KAAlE,MAEO;cACG,IAAR,CAAa,OAAO,KAAP,CAAb,EADK;KAFP;GADe,CAAjB,CALoD;CAAtD;;AAcA,IAAa;WAAA,YACX,CAAY,IAAZ,EAAkB,QAAlB,EAA4B,IAA5B,EAAkC;sCADvB,cACuB;;SAC3B,IAAL,GAAY,IAAZ,CADgC;SAE3B,QAAL,GAAgB,QAAhB,CAFgC;SAG3B,IAAL,GAAY,IAAZ,CAHgC;GAAlC;;2BADW;;2BAOJ,SAAS;UACV,QAAQ,EAAR,CADU;;WAGT,QAAL,CAAc,OAAd,CAAsB,UAAC,KAAD,EAAW;iBACtB,OAAO,KAAP,CAAT,CAD+B;OAAX,CAAtB,CAHc;;cAON,SAAR,CAAkB,KAAK,IAAL,EAAW,KAA7B,EAPc;;;SAPL;IAAb;;AAkBA,IAAa;WAAA,UACX,CAAY,IAAZ,EAAkB,UAAlB,EAA8B,QAA9B,EAAwC,IAAxC,EAA8C;sCADnC,YACmC;;SACvC,IAAL,GAAY,IAAZ,CAD4C;SAEvC,UAAL,GAAkB,UAAlB,CAF4C;SAGvC,QAAL,GAAgB,QAAhB,CAH4C;SAIvC,IAAL,GAAY,IAAZ,CAJ4C;GAA9C;;2BADW;;2BAQJ,SAAS;UACV,UAAU,QAAQ,OAAR,CAAgB,KAAK,IAAL,CAA1B,CADU;oBAEA,OAAd,EAAuB,KAAK,UAAL,EAAiB,KAAK,QAAL,CAAxC,CAFc;;;SARL;IAAb;;AAcA,IAAa;WAAA,WACX,CAAY,IAAZ,EAAkB;sCADP,aACO;;SACX,IAAL,GAAY,IAAZ,CADgB;GAAlB;;2BADW;;2BAKJ,SAAS;UACV,OAAO,OAAP,KAAmB,WAAnB,EAAgC;YAC9B,WAAU,WAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,IAAV,CAA5B,CAD8B;sBAEpB,QAAd,EAAuB,KAAK,IAAL,CAAU,UAAV,EAAsB,KAAK,IAAL,CAAU,QAAV,CAA7C,CAFkC;eAG3B,SAAQ,GAAR,EAAP,CAHkC;OAApC,MAIO;YACD,UAAU,QAAQ,OAAR,CAAgB,KAAK,IAAL,CAAU,IAAV,CAA1B,CADC;sBAES,OAAd,EAAuB,KAAK,IAAL,CAAU,UAAV,EAAsB,KAAK,IAAL,CAAU,QAAV,CAA7C,CAFK;OAJP;;;SANS;;;;;"}